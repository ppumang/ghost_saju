import type { CheonGan, JiJi, OhHaeng, EumYang } from './types';

// 중국어 천간 → 한국어 변환
export const CN_GAN_TO_KR: Record<string, CheonGan> = {
  '甲': '갑', '乙': '을', '丙': '병', '丁': '정', '戊': '무',
  '己': '기', '庚': '경', '辛': '신', '壬': '임', '癸': '계',
};

// 중국어 지지 → 한국어 변환
export const CN_JI_TO_KR: Record<string, JiJi> = {
  '子': '자', '丑': '축', '寅': '인', '卯': '묘', '辰': '진', '巳': '사',
  '午': '오', '未': '미', '申': '신', '酉': '유', '戌': '술', '亥': '해',
};

// 천간 → 오행
export const GAN_TO_OHAENG: Record<CheonGan, OhHaeng> = {
  '갑': '목', '을': '목',
  '병': '화', '정': '화',
  '무': '토', '기': '토',
  '경': '금', '신': '금',
  '임': '수', '계': '수',
};

// 지지 → 오행
export const JI_TO_OHAENG: Record<JiJi, OhHaeng> = {
  '인': '목', '묘': '목',
  '사': '화', '오': '화',
  '진': '토', '술': '토', '축': '토', '미': '토',
  '신': '금', '유': '금',
  '해': '수', '자': '수',
};

// 천간 → 음양
export const GAN_TO_EUMYANG: Record<CheonGan, EumYang> = {
  '갑': '양', '을': '음',
  '병': '양', '정': '음',
  '무': '양', '기': '음',
  '경': '양', '신': '음',
  '임': '양', '계': '음',
};

// 지지 → 음양
export const JI_TO_EUMYANG: Record<JiJi, EumYang> = {
  '자': '양', '축': '음',
  '인': '양', '묘': '음',
  '진': '양', '사': '음',
  '오': '양', '미': '음',
  '신': '양', '유': '음',
  '술': '양', '해': '음',
};

// 십신 중국어 → 한국어
export const CN_SIPSHIN_TO_KR: Record<string, string> = {
  '比肩': '비견', '劫财': '겁재',
  '食神': '식신', '伤官': '상관',
  '偏财': '편재', '正财': '정재',
  '七杀': '편관', '正官': '정관',
  '偏印': '편인', '正印': '정인',
  // 일간 자신
  '日主': '일주',
};

// 십이운성 중국어 → 한국어
export const CN_DISHI_TO_KR: Record<string, string> = {
  '长生': '장생', '沐浴': '목욕', '冠带': '관대',
  '临官': '건록', '帝旺': '제왕',
  '衰': '쇠', '病': '병', '死': '사',
  '墓': '묘', '绝': '절', '胎': '태', '养': '양',
};

// 납음 중국어 → 한국어
export const CN_NAYIN_TO_KR: Record<string, string> = {
  '海中金': '해중금', '炉中火': '노중화', '大林木': '대림목',
  '路旁土': '노방토', '剑锋金': '검봉금', '山头火': '산두화',
  '涧下水': '간하수', '城头土': '성두토', '白蜡金': '백랍금',
  '杨柳木': '양류목', '泉中水': '천중수', '屋上土': '옥상토',
  '霹雳火': '벽력화', '松柏木': '송백목', '长流水': '장류수',
  '沙中金': '사중금', '山下火': '산하화', '平地木': '평지목',
  '壁上土': '벽상토', '金箔金': '금박금', '覆灯火': '복등화',
  '天河水': '천하수', '大驿土': '대역토', '钗钏金': '채천금',
  '桑柘木': '상자목', '大溪水': '대계수', '沙中土': '사중토',
  '天上火': '천상화', '石榴木': '석류목', '大海水': '대해수',
};

// 지지 → 띠
export const JI_TO_ZODIAC: Record<JiJi, string> = {
  '자': '쥐', '축': '소', '인': '호랑이', '묘': '토끼',
  '진': '용', '사': '뱀', '오': '말', '미': '양',
  '신': '원숭이', '유': '닭', '술': '개', '해': '돼지',
};

// 일간(日干) 특성 설명
export const DAY_MASTER_DESC: Record<CheonGan, string> = {
  '갑': '갑목(甲木) - 큰 나무, 곧은 성격, 리더십',
  '을': '을목(乙木) - 풀꽃, 유연한 적응력, 부드러움',
  '병': '병화(丙火) - 태양, 밝은 에너지, 열정',
  '정': '정화(丁火) - 촛불, 섬세한 빛, 따뜻함',
  '무': '무토(戊土) - 산, 듬직한 안정감, 포용력',
  '기': '기토(己土) - 농토, 기르는 힘, 실리적',
  '경': '경금(庚金) - 바위/칼, 강인함, 의리',
  '신': '신금(辛金) - 보석, 예리한 감각, 섬세함',
  '임': '임수(壬水) - 큰 강, 지혜로움, 포용력',
  '계': '계수(癸水) - 이슬/빗물, 감수성, 직관력',
};

// 도화살 테이블: 일지 기준으로 어떤 지지가 도화살인지
// 일지가 寅午戌이면 도화는 卯, 巳酉丑이면 도화는 午, etc.
export const DOHWA_TABLE: Record<JiJi, JiJi> = {
  '인': '묘', '오': '묘', '술': '묘',
  '사': '오', '유': '오', '축': '오',
  '신': '유', '자': '유', '진': '유',
  '해': '자', '묘': '자', '미': '자',
};

// 역마살 테이블: 일지 기준
export const YEOKMA_TABLE: Record<JiJi, JiJi> = {
  '인': '신', '오': '신', '술': '신',
  '사': '해', '유': '해', '축': '해',
  '신': '인', '자': '인', '진': '인',
  '해': '사', '묘': '사', '미': '사',
};

// 화개살 테이블: 일지 기준
export const HWAGAE_TABLE: Record<JiJi, JiJi> = {
  '인': '술', '오': '술', '술': '술',
  '사': '축', '유': '축', '축': '축',
  '신': '진', '자': '진', '진': '진',
  '해': '미', '묘': '미', '미': '미',
};

// ============================
// 확장 테이블 (v2)
// ============================

// 상생 사이클: A가 B를 생한다
export const PRODUCING: Record<OhHaeng, OhHaeng> = {
  '목': '화', '화': '토', '토': '금', '금': '수', '수': '목',
};

// 상극 사이클: A가 B를 극한다
export const CONTROLLING: Record<OhHaeng, OhHaeng> = {
  '목': '토', '화': '금', '토': '수', '금': '목', '수': '화',
};

// A를 생하는 오행
export const PRODUCED_BY: Record<OhHaeng, OhHaeng> = {
  '목': '수', '화': '목', '토': '화', '금': '토', '수': '금',
};

// A를 극하는 오행
export const CONTROLLED_BY: Record<OhHaeng, OhHaeng> = {
  '목': '금', '화': '수', '토': '목', '금': '화', '수': '토',
};

// 월지 → 계절 득령 오행 (어떤 오행이 왕성한 계절인지)
// 인/묘: 봄(목왕), 사/오: 여름(화왕), 신/유: 가을(금왕), 해/자: 겨울(수왕)
// 진/술/축/미: 환절기(토왕)
export const SEASONAL_STRENGTH: Record<JiJi, OhHaeng> = {
  '인': '목', '묘': '목',
  '사': '화', '오': '화',
  '신': '금', '유': '금',
  '해': '수', '자': '수',
  '진': '토', '술': '토', '축': '토', '미': '토',
};

// 십신 → 카테고리 (강약 판정용)
// 비겁/인성 = 일간을 돕는 세력, 나머지 = 일간을 약화시키는 세력
export const SIPSHIN_CATEGORY: Record<string, 'help' | 'drain'> = {
  '비견': 'help', '겁재': 'help',
  '편인': 'help', '정인': 'help',
  '식신': 'drain', '상관': 'drain',
  '편재': 'drain', '정재': 'drain',
  '편관': 'drain', '정관': 'drain',
  '일주': 'help', // 일간 자신
};

// 육해 쌍 (서로 해가 되는 지지)
export const YUKHAE_PAIRS: [JiJi, JiJi][] = [
  ['자', '미'], ['축', '오'], ['인', '사'],
  ['묘', '진'], ['신', '해'], ['유', '술'],
];

// 반안살 테이블: 일지 기준 → 반안 지지
export const BANAN_TABLE: Record<JiJi, JiJi> = {
  '자': '축', '축': '인', '인': '묘', '묘': '진',
  '진': '사', '사': '오', '오': '미', '미': '신',
  '신': '유', '유': '술', '술': '해', '해': '자',
};

// 현침살: 해당 지지가 있으면 현침살
export const HYEONCHIM_BRANCHES: JiJi[] = ['자', '오', '묘', '유'];

// 귀문관살 테이블: 일지 기준 → 귀문관 지지
export const GWIMUNGWAN_TABLE: Record<JiJi, JiJi> = {
  '자': '유', '축': '오', '인': '미', '묘': '신',
  '진': '사', '사': '진', '오': '축', '미': '인',
  '신': '묘', '유': '자', '술': '해', '해': '술',
};

// 지살 테이블: 년지 기준 → 지살 지지
export const JISAL_TABLE: Record<JiJi, JiJi> = {
  '인': '사', '오': '사', '술': '사',
  '사': '신', '유': '신', '축': '신',
  '신': '해', '자': '해', '진': '해',
  '해': '인', '묘': '인', '미': '인',
};

// 천을귀인: 일간 기준 → 천을귀인이 되는 지지들
export const CHEONUL_GUIIN: Record<CheonGan, JiJi[]> = {
  '갑': ['축', '미'], '을': ['자', '신'],
  '병': ['해', '유'], '정': ['해', '유'],
  '무': ['축', '미'], '기': ['자', '신'],
  '경': ['축', '미'], '신': ['인', '오'],
  '임': ['묘', '사'], '계': ['묘', '사'],
};

// 태극귀인: 일간 기준 → 태극귀인이 되는 지지들
export const TAEGEUK_GUIIN: Record<CheonGan, JiJi[]> = {
  '갑': ['자', '사'], '을': ['자', '사'],
  '병': ['축', '오'], '정': ['축', '오'],
  '무': ['축', '오'], '기': ['축', '오'],
  '경': ['인', '미'], '신': ['인', '미'],
  '임': ['묘', '신'], '계': ['묘', '신'],
};

// 월덕귀인: 월지 기준 → 월덕귀인이 되는 천간
export const WOLDEOK_GUIIN: Record<JiJi, CheonGan> = {
  '인': '임', '묘': '경', '진': '임', '사': '경',
  '오': '임', '미': '경', '신': '임', '유': '경',
  '술': '임', '해': '경', '자': '임', '축': '경',
};

// 충 쌍 (서로 충하는 지지)
export const CHUNG_PAIRS: [JiJi, JiJi][] = [
  ['자', '오'], ['축', '미'], ['인', '신'],
  ['묘', '유'], ['진', '술'], ['사', '해'],
];

// 원진 쌍 (서로 원진인 지지)
export const WONJIN_PAIRS: [JiJi, JiJi][] = [
  ['자', '미'], ['축', '오'], ['인', '유'],
  ['묘', '신'], ['진', '해'], ['사', '술'],
];

// 천간합: 합이 되는 천간 쌍
export const CHUNGAN_HAP: [CheonGan, CheonGan, OhHaeng][] = [
  ['갑', '기', '토'],  // 갑기합토
  ['을', '경', '금'],  // 을경합금
  ['병', '신', '수'],  // 병신합수
  ['정', '임', '목'],  // 정임합목
  ['무', '계', '화'],  // 무계합화
];

// 오행 컬러맵 (다크테마용)
export const OHAENG_COLORS: Record<OhHaeng, { bg: string; text: string }> = {
  '목': { bg: '#1a3d1a', text: '#6bcf6b' },
  '화': { bg: '#3d1a1a', text: '#cf6b6b' },
  '토': { bg: '#3d351a', text: '#cfb86b' },
  '금': { bg: '#2a2a2a', text: '#d0d0d0' },
  '수': { bg: '#1a1a3d', text: '#6b8fcf' },
};
